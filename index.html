<!doctype html>
<html lang="id">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>Pixoria â€” Jasa Kreasi Konten Lokal</title>

    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&display=swap"
      rel="stylesheet"
    />

    <style>
      :root {
        --purple: #6a3dd1;
        --pink: #ff7ab6;
        --accent: linear-gradient(90deg, var(--purple), var(--pink));
        --muted: #6b6b7a;
        --bg: linear-gradient(150deg, #f8f5ff, #ffffff 40%, #fff4ff);
        --card: #ffffff;
        --radius: 14px;
        --maxW: 1100px;
        --wa-color: linear-gradient(90deg, #25D366, #128C7E); /* Diupdate jadi Hijau WA */
        font-family: "Poppins", system-ui, -apple-system, "Segoe UI", Roboto,
          Arial, sans-serif;
      }

      * {
        box-sizing: border-box;
      }

      body {
        margin: 0;
        background: var(--bg);
        color: #222;
        -webkit-font-smoothing: antialiased;
      }

      a {
        color: inherit;
        text-decoration: none;
      }

      .container {
        max-width: var(--maxW);
        margin: 28px auto;
        padding: 0 18px;
      }

      /* Header */
      header {
        position: sticky;
        top: 0;
        z-index: 90;
        display: flex;
        align-items: center;
        justify-content: space-between;
        gap: 18px;
        padding: 14px 18px;
        background: rgba(255, 255, 255, 0.45);
        backdrop-filter: blur(8px) saturate(140%);
        border-bottom: 1px solid rgba(0, 0, 0, 0.04);
      }

      .brand {
        display: flex;
        align-items: center;
        gap: 12px;
      }

      .brand img {
        width: 56px;
        height: 56px;
        object-fit: cover;
        border-radius: 12px;
        box-shadow: 0 6px 18px rgba(0, 0, 0, 0.12);
      }

      .brand h1 {
        margin: 0;
        font-size: 18px;
        letter-spacing: 0.3px;
      }

      nav {
        display: flex;
        gap: 14px;
        align-items: center;
      }

      nav a {
        padding: 8px 10px;
        border-radius: 10px;
        font-weight: 600;
        color: var(--purple);
      }

      nav a.cta {
        background: var(--accent);
        color: #fff;
      }

      /* Avatar */
      .avatar {
        width: 48px;
        height: 48px;
        border-radius: 10px;
        background: #eee;
        background-size: cover;
        background-position: center;
        display: inline-block;
        box-shadow: 0 6px 18px rgba(0, 0, 0, 0.08);
      }

      .avatar img {
        width: 100%;
        height: 100%;
        object-fit: cover;
        border-radius: 10px;
        display: block;
      }

      /* Hero */
      .hero {
        display: grid;
        grid-template-columns: 1fr 420px;
        gap: 28px;
        align-items: center;
      }

      .hero-card {
        background: var(--card);
        padding: 28px;
        border-radius: var(--radius);
        box-shadow: 0 12px 40px rgba(20, 20, 40, 0.06);
      }

      .kicker {
        display: inline-block;
        padding: 6px 10px;
        border-radius: 999px;
        background: var(--accent);
        color: #fff;
        font-weight: 700;
        font-size: 13px;
      }

      h2 {
        margin: 14px 0 8px;
        font-size: 30px;
        line-height: 1.05;
        background: var(--accent);
        -webkit-background-clip: text;
        color: transparent;
      }

      p.lead {
        color: var(--muted);
        line-height: 1.6;
      }

      .cta {
        display: inline-flex;
        align-items: center;
        gap: 10px;
        margin-top: 14px;
        padding: 12px 18px;
        border-radius: 12px;
        background: var(--accent);
        color: #fff;
        font-weight: 700;
        border: none;
        cursor: pointer;
      }

      .secondary {
        display: inline-block;
        margin-left: 10px;
        padding: 10px 14px;
        border-radius: 10px;
        background: #f3f3ff;
        color: var(--purple);
        font-weight: 700;
        border: 1px solid rgba(90, 52, 209, 0.06);
      }

      /* Features */
      .features {
        display: grid;
        grid-template-columns: repeat(3, 1fr);
        gap: 14px;
        margin-top: 18px;
      }

      .feature {
        background: rgba(255, 255, 255, 0.55);
        padding: 14px;
        border-radius: 12px;
        backdrop-filter: blur(10px);
        text-align: center;
        transition: all 0.18s;
      }

      .feature strong {
        display: block;
        margin-bottom: 6px;
      }

      .feature p {
        color: var(--muted);
        font-size: 13px;
        margin: 0;
      }

      /* Packages preview */
      .packages-wrap {
        margin-top: 28px;
      }

      .price-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));
        gap: 18px;
        align-items: start;
      }

      .price-card {
        background: var(--card);
        padding: 18px;
        border-radius: 14px;
        box-shadow: 0 10px 30px rgba(20, 20, 40, 0.06);
        text-align: left;
        transition: transform 0.18s, box-shadow 0.18s;
        cursor: pointer;
        display: flex;
        flex-direction: column;
        justify-content: space-between;
      }

      .price-card:hover {
        transform: translateY(-6px);
        box-shadow: 0 20px 50px rgba(20, 20, 40, 0.09);
      }

      .price-card h3 {
        margin: 0;
        font-size: 18px;
      }

      .price {
        font-weight: 800;
        font-size: 20px;
        color: var(--purple);
        margin-top: 8px;
      }

      .price ul {
        margin: 10px 0 0;
        padding-left: 16px;
        color: var(--muted);
      }

      .btn-pesan {
        margin-top: 12px;
        padding: 10px 12px;
        border-radius: 10px;
        border: none;
        background: var(--accent);
        color: #fff;
        font-weight: 700;
        cursor: pointer;
        width: 100%;
      }

      /* Testimonials */
      .testimonials {
        margin-top: 36px;
        display: grid;
        grid-template-columns: 1fr 320px;
        gap: 18px;
        align-items: start;
      }

      .test-list {
        display: grid;
        gap: 12px;
      }

      .test-item {
        background: var(--card);
        padding: 14px;
        border-radius: 12px;
        box-shadow: 0 8px 30px rgba(0, 0, 0, 0.04);
      }

      .test-item small {
        color: var(--muted);
        display: block;
        margin-top: 6px;
        font-size: 12px;
      }

      /* CTA strip */
      .cta-strip {
        margin-top: 36px;
        padding: 36px;
        border-radius: 16px;
        color: #fff;
        background: linear-gradient(135deg, #4627ff, #9d52ff);
        text-align: center;
        box-shadow: 0 20px 50px rgba(20, 20, 60, 0.18);
      }

      /* Footer */
      footer {
        margin-top: 40px;
        padding: 26px 18px;
        background: linear-gradient(180deg, #f8f7fc, #fff);
        border-top: 1px solid #eee;
      }

      .footer-grid {
        display: flex;
        justify-content: space-between;
        gap: 18px;
        max-width: var(--maxW);
        margin: 0 auto;
        align-items: start;
      }

      .socials a {
        display: inline-block;
        margin-right: 8px;
        padding: 8px 10px;
        border-radius: 10px;
        background: linear-gradient(90deg, #fff, #fff);
        color: var(--muted);
        font-weight: 700;
        border: 1px solid rgba(0, 0, 0, 0.04);
      }

      .socials a.theme {
        background: var(--accent);
        color: #fff;
        border: none;
      }

      /* WhatsApp floating & popup (theme-matching) */
      .wa-float {
        position: fixed;
        right: 18px;
        bottom: 18px;
        background: var(--wa-color);
        color: #fff;
        padding: 12px 14px;
        border-radius: 999px;
        display: flex;
        gap: 10px;
        align-items: center;
        cursor: pointer;
        box-shadow: 0 10px 40px rgba(0, 120, 80, 0.22);
        z-index: 120;
        font-weight: 600;
      }

      .wa-popup {
        position: fixed;
        right: 18px;
        bottom: 82px;
        width: 360px;
        max-width: 94vw;
        background: var(--card);
        border-radius: 12px;
        box-shadow: 0 20px 60px rgba(0, 0, 0, 0.14);
        overflow: hidden;
        display: none;
        z-index: 121;
        animation: popUp 0.2s ease-out;
      }

      @keyframes popUp {
        from { transform: translateY(10px); opacity: 0; }
        to { transform: translateY(0); opacity: 1; }
      }

      .wa-popup header {
        padding: 14px;
        background: var(--wa-color); /* Green WA theme */
        color: #fff;
        font-weight: 700;
      }

      .wa-popup .content {
        padding: 12px;
      }

      .wa-popup .content label {
        display: block;
        font-weight: 600;
        margin-top: 8px;
      }

      .wa-popup .content input,
      .wa-popup .content textarea,
      .wa-popup .content select {
        width: 100%;
        padding: 8px;
        border-radius: 8px;
        border: 1px solid #eee;
        margin-top: 6px;
        font-family: inherit;
      }

      .wa-popup .actions {
        display: flex;
        gap: 8px;
        justify-content: flex-end;
        margin-top: 10px;
      }

      /* Small screen */
      @media (max-width: 980px) {
        .hero {
          grid-template-columns: 1fr;
        }

        .features {
          grid-template-columns: repeat(2, 1fr);
        }

        .testimonials {
          grid-template-columns: 1fr;
        }

        .footer-grid {
          flex-direction: column;
          align-items: flex-start;
        }
      }

      @media (max-width: 520px) {
        nav {
          display: none;
        }

        header {
          padding: 12px;
        }

        .brand img {
          width: 48px;
          height: 48px;
        }

        .features {
          grid-template-columns: 1fr;
        }
      }
    </style>
  </head>

  <body>
    <header>
      <div class="brand">
        <img src="logo pixoria.jpg" alt="Pixoria logo" onerror="this.style.display='none'" />
        <div>
          <h1>Pixoria</h1>
          <div style="font-size:12px;color:var(--muted)">Jasa Kreasi Konten Lokal</div>
        </div>
      </div>

      <nav>
        <a href="index.html">Home</a>
        <a href="packages.html">Paket</a>
        <a href="order.html">Form Pesan</a>
        <a href="about.html">Tentang</a>
        <a class="cta" href="#contact" onclick="scrollToContact()">Hubungi</a>
      </nav>
    </header>

    <main class="container">
      <section class="hero" aria-label="hero">
        <div class="hero-card">
          <span class="kicker">Marketplace Kreator</span>
          <h2>Mudah pesan kreator lokal untuk konten promosi UMKM</h2>
          <p class="lead">
            Pixoria menghubungkan UMKM dengan kreator lokal â€” foto produk, video
            singkat, desain grafis, copywriting, dan brand identity. Pembayaran
            aman (escrow), sistem revisi, dan chat langsung lewat WhatsApp.
          </p>

          <div>
            <button class="cta" onclick="location.href='packages.html'">
              Lihat Paket & Harga
            </button>
            <button class="secondary" onclick="location.href='order.html'">
              Pesan Sekarang
            </button>
          </div>

          <div class="features" style="margin-top:20px">
            <div class="feature">
              <strong>Creator Terverifikasi</strong>
              <p>Portofolio & kualitas terjamin.</p>
            </div>
            <div class="feature">
              <strong>Pembayaran Aman</strong>
              <p>Escrow â€” dana dicairkan setelah setuju.</p>
            </div>
            <div class="feature">
              <strong>Sistem Revisi</strong>
              <p>Revisi langsung sampai cocok.</p>
            </div>
          </div>
        </div>

        <aside
          style="background:var(--card);padding:18px;border-radius:12px;box-shadow:0 10px 30px rgba(0,0,0,0.05)"
        >
          <h3 style="margin:0 0 6px">Pesan Cepat</h3>
          <p style="color:var(--muted);font-size:13px;margin:0 0 12px">
            Pilih paket di halaman paket lalu lengkapi form â€” atau chat langsung
            via WA.
          </p>
          <button class="cta" style="width:100%" onclick="location.href='packages.html'">
            Pilih Paket
          </button>
          <div style="font-size:13px;color:var(--muted);margin-top:10px">Atau chat langsung:</div>
          
          <a
            href="https://wa.me/6281366534108?text=Halo%20Pixoria%2C%20saya%20tertarik%20dengan%20jasa%20konten%20Anda.%20Bisa%20minta%20info%20lebih%20lanjut%3F"
            target="_blank"
            style="display:inline-block;margin-top:10px;padding:10px 12px;border-radius:10px;background:var(--wa-color);color:#fff;font-weight:700;text-decoration:none"
            >Chat WhatsApp</a
          >

          <div style="margin-top:14px;display:flex;gap:10px;align-items:center">
            <div
              class="avatar"
              id="exampleAvatar"
              title="Contoh avatar"
              style="background-image:url('logo pixoria.jpg')"
            ></div>
            <div style="font-size:13px;color:var(--muted)">
              <strong>Pixoria</strong><br /><span>Creative Team</span>
            </div>
          </div>
        </aside>
      </section>

      <section class="packages-wrap" aria-label="paket-populer">
        <h2 style="margin-bottom:12px">Paket Populer</h2>
        <div class="price-grid" id="packageGrid">
          <div class="price-card" onclick="goToOrder('Foto Produk',350000)">
            <div>
              <h3>Foto Produk</h3>
              <div class="price">Rp 350.000</div>
              <ul>
                <li>10 foto produk</li>
                <li>Editing & retouch</li>
                <li>File siap upload marketplace</li>
              </ul>
            </div>
            <div>
              <button class="btn-pesan" onclick="event.stopPropagation(); goToOrder('Foto Produk',350000)">
                Pesan Paket
              </button>
            </div>
          </div>

          <div class="price-card" onclick="goToOrder('Video Konten',500000)">
            <div>
              <h3>Video Konten</h3>
              <div class="price">Rp 500.000</div>
              <ul>
                <li>Video 15â€“30 detik</li>
                <li>Music & subtitle</li>
                <li>Revisi sesuai paket</li>
              </ul>
            </div>
            <div>
              <button class="btn-pesan" onclick="event.stopPropagation(); goToOrder('Video Konten',500000)">
                Pesan Paket
              </button>
            </div>
          </div>

          <div class="price-card" onclick="goToOrder('Desain Grafis',200000)">
            <div>
              <h3>Desain Grafis</h3>
              <div class="price">Rp 200.000</div>
              <ul>
                <li>5 konten desain</li>
                <li>Brand konsisten</li>
                <li>2Ã— revisi</li>
              </ul>
            </div>
            <div>
              <button class="btn-pesan" onclick="event.stopPropagation(); goToOrder('Desain Grafis',200000)">
                Pesan Paket
              </button>
            </div>
          </div>

          <div class="price-card" onclick="goToOrder('Copywriting',200000)">
            <div>
              <h3>Copywriting</h3>
              <div class="price">Rp 200.000</div>
              <ul>
                <li>10 caption</li>
                <li>Riset kata kunci sederhana</li>
                <li>2Ã— revisi</li>
              </ul>
            </div>
            <div>
              <button class="btn-pesan" onclick="event.stopPropagation(); goToOrder('Copywriting',200000)">
                Pesan Paket
              </button>
            </div>
          </div>

          <div class="price-card" onclick="goToOrder('Brand Identity',700000)">
            <div>
              <h3>Brand Identity</h3>
              <div class="price">Rp 700.000</div>
              <ul>
                <li>2 konsep logo</li>
                <li>Font & warna</li>
                <li>Mini brand guideline</li>
              </ul>
            </div>
            <div>
              <button class="btn-pesan" onclick="event.stopPropagation(); goToOrder('Brand Identity',700000)">
                Pesan Paket
              </button>
            </div>
          </div>
        </div>
      </section>

      <section class="testimonials" id="testimonialsSection">
        <div>
          <h3>Apa kata mereka</h3>
          <div class="test-list" id="testList">
            </div>
        </div>

        <aside
          style="background:var(--card);padding:16px;border-radius:12px;box-shadow:0 10px 30px rgba(0,0,0,0.04)"
        >
          <h4 style="margin:0 0 8px">Tambah Testimoni</h4>
          <div style="font-size:13px;color:var(--muted)">
            Kirim testimoni singkat â€” demo: disimpan di browser (localStorage).
          </div>

          <label style="margin-top:10px;font-weight:600">Nama</label>
          <input
            id="testName"
            placeholder="Nama"
            style="width:100%;padding:8px;border-radius:8px;border:1px solid #eee"
          />

          <label style="margin-top:8px;font-weight:600">Pesan</label>
          <textarea
            id="testMsg"
            rows="4"
            placeholder="Terima kasih Pixoria..."
            style="width:100%;padding:8px;border-radius:8px;border:1px solid #eee"
          ></textarea>

          <div style="margin-top:10px;display:flex;gap:8px;justify-content:flex-end">
            <button
              style="padding:10px 12px;border-radius:10px;border:none;background:#eee"
              onclick="clearTestimonials()"
            >
              Bersihkan
            </button>
            <button
              style="padding:10px 12px;border-radius:10px;border:none;background:var(--accent);color:#fff"
              onclick="addTestimonial()"
            >
              Kirim
            </button>
          </div>
        </aside>
      </section>

      <section class="cta-strip">
        <h3 style="margin:0 0 8px">Siap membuat konten profesional?</h3>
        <p style="opacity:.92;margin:0 0 14px">
          Mulai sekarang â€” lebih cepat, terjangkau, dan aman. Pilih paket atau chat
          langsung untuk konsultasi singkat.
        </p>
        <div style="display:flex;gap:10px;justify-content:center">
          <button class="cta" onclick="location.href='packages.html'">Lihat Paket</button>
          
          <a
            href="https://wa.me/6281366534108?text=Halo%20Pixoria%2C%20saya%20mau%20konsultasi%20soal%20pembuatan%20konten%20kreatif%20untuk%20bisnis%20saya."
            target="_blank"
            class="secondary"
            style="display:inline-flex;align-items:center;justify-content:center"
            >Chat WhatsApp</a
          >
        </div>
      </section>

      <section id="contact" style="margin-top:30px">
        <h3>Hubungi & Lokasi</h3>
        <div style="display:flex;gap:18px;flex-wrap:wrap">
          <div
            style="flex:1;min-width:260px;background:var(--card);padding:16px;border-radius:12px;box-shadow:0 10px 30px rgba(0,0,0,0.04)"
          >
            <strong>Kontak</strong>
            <div style="margin-top:8px;color:var(--muted)">
              WA:
              <a href="https://wa.me/6281366534108?text=Halo%20Pixoria%2C%20saya%20ingin%20bertanya%20seputar%20jasa%20Anda." target="_blank">0813-6653-4108</a>
            </div>
            <div style="margin-top:6px;color:var(--muted)">Email: hello@pixoria.id</div>
          </div>

          <div
            style="flex:1;min-width:260px;background:var(--card);padding:16px;border-radius:12px;box-shadow:0 10px 30px rgba(0,0,0,0.04)"
          >
            <strong>Alamat</strong>
            <div style="margin-top:8px;color:var(--muted)">Palembang, Sumatera Selatan</div>
          </div>
        </div>
      </section>
    </main>

    <footer>
      <div class="footer-grid">
        <div>
          <strong>Pixoria</strong>
          <div style="color:var(--muted);margin-top:8px;max-width:360px">
            Platform booking kreator konten lokal untuk UMKM â€” aman, cepat, terjangkau.
          </div>
        </div>

        <div>
          <strong>Media Sosial</strong>
          <div style="margin-top:8px" class="socials">
            <a class="theme" href="https://instagram.com/" target="_blank">Instagram</a>
            <a class="theme" href="https://www.tiktok.com/" target="_blank">TikTok</a>
            <a class="theme" href="https://www.youtube.com/" target="_blank">YouTube</a>
          </div>
        </div>

        <div>
          <strong>Alamat</strong>
          <div style="color:var(--muted);margin-top:8px">Palembang, Sumatera Selatan</div>
        </div>
      </div>
    </footer>

    <div class="wa-float" id="waFloat" title="Chat WhatsApp" onclick="toggleWaPopup()">
      <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none">
        <path d="M20.5 3.5L3.5 20.5" stroke="rgba(255,255,255,0.95)" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
      </svg>
      Chat WhatsApp
    </div>

    <div class="wa-popup" id="waPopup" role="dialog" aria-hidden="true">
      <header>Chat & Pesan Cepat</header>
      <div class="content">
        <div style="font-size:13px;color:var(--muted)">
          Isi data singkat agar kami dapat memproses pesanan atau menjawab pertanyaanmu lebih cepat.
        </div>

        <label for="waPkg">Pilih Paket</label>
        <select id="waPkg">
          <option value="Foto Produk|350000">Foto Produk â€” Rp 350.000</option>
          <option value="Video Konten|500000">Video Konten â€” Rp 500.000</option>
          <option value="Desain Grafis|200000">Desain Grafis â€” Rp 200.000</option>
          <option value="Copywriting|200000">Copywriting â€” Rp 200.000</option>
          <option value="Brand Identity|700000">Brand Identity â€” Rp 700.000</option>
          <option value="Custom|0">Custom</option>
        </select>

        <label for="waName">Nama</label>
        <input id="waName" placeholder="Nama lengkap" />

        <label for="waContact">Email / WhatsApp</label>
        <input id="waContact" placeholder="0813xxxx / email@example.com" />

        <label for="waBrief">Pesan / Brief singkat</label>
        <textarea id="waBrief" rows="3" placeholder="Contoh: 10 foto produk, background putih..."></textarea>

        <div class="actions">
          <button class="btn" onclick="toggleWaPopup()" style="background:#f1f1f1;padding:8px 12px;border-radius:8px;border:none;cursor:pointer">
            Batal
          </button>
          <button class="btn" onclick="sendWaFromPopup()" style="background:var(--wa-color);color:#fff;padding:8px 12px;border-radius:8px;border:none;cursor:pointer">
            Kirim ke WhatsApp
          </button>
        </div>
      </div>
    </div>

    <script>
      // Smooth scroll helper
      function scrollToContact() {
        const el = document.getElementById("contact");
        if (el) el.scrollIntoView({ behavior: "smooth", block: "center" });
      }

      // Navigate to order page with query string
      function goToOrder(pkg, price) {
        const url = `order.html?pkg=${encodeURIComponent(pkg)}&price=${encodeURIComponent(price)}`;
        location.href = url;
      }

      // WA popup controls
      const waFloat = document.getElementById("waFloat");
      const waPopup = document.getElementById("waPopup");

      function toggleWaPopup() {
        const isOpen = waPopup.style.display === "block" || waPopup.style.display === "flex";
        if (isOpen) {
          waPopup.style.display = "none";
          waPopup.setAttribute("aria-hidden", "true");
        } else {
          waPopup.style.display = "block";
          waPopup.setAttribute("aria-hidden", "false");
          waPopup.style.right = window.innerWidth < 420 ? "8px" : "18px";
        }
      }

      function sendWaFromPopup() {
        const sel = document.getElementById("waPkg").value.split("|");
        const pkg = sel[0] || "-";
        const price = sel[1] || "-";
        const name = document.getElementById("waName").value || "-";
        const contact = document.getElementById("waContact").value || "-";
        const brief = document.getElementById("waBrief").value || "-";

        const placeholderInvoice = "https://payment.pixoria.id/invoice-demo";

        // Pesan Otomatis (Format Rapi)
        const msg = [
          "Halo Pixoria ðŸ‘‹",
          "Saya ingin memesan / bertanya melalui website.",
          "",
          "*â€” DATA PEMESAN â€”*",
          "Nama: " + name,
          "Kontak: " + contact,
          "Paket: " + pkg,
          "Harga: " + (price && price !== "0" ? "Rp " + Number(price).toLocaleString("id-ID") : "Custom"),
          "",
          "*â€” DETAIL / BRIEF â€”*",
          brief,
          "",
          "*â€” PEMBAYARAN â€”*",
          "Mohon info metode pembayaran dan invoice.",
          "Link (system): " + placeholderInvoice
        ].join("\n");

        const phone = "6281366534108";
        const waUrl = "https://wa.me/" + phone + "?text=" + encodeURIComponent(msg);
        window.open(waUrl, "_blank");
        toggleWaPopup();
      }

      // Testimonials demo using localStorage
      const TEST_KEY = "pixoria_testimonials_v1";

      function escapeHtml(s) {
        return String(s).replace(/[&<>"']/g, (m) =>
          ({ "&": "&amp;", "<": "&lt;", ">": "&gt;", '"': "&quot;", "'": "&#39;" }[m])
        );
      }

      function loadTestimonials() {
        const raw = localStorage.getItem(TEST_KEY);
        let list = [];
        try {
          list = raw ? JSON.parse(raw) : [];
        } catch (e) {
          list = [];
        }

        const el = document.getElementById("testList");
        el.innerHTML = "";

        if (!list || list.length === 0) {
          el.innerHTML = '<div style="color:var(--muted)">Belum ada testimoni. Jadilah yang pertama!</div>';
          return;
        }

        // show newest first
        list.slice().reverse().forEach((t) => {
          const div = document.createElement("div");
          div.className = "test-item";
          div.innerHTML = `<div style="font-weight:700">${escapeHtml(t.name)}</div><small>${escapeHtml(t.date)}</small><p style="margin:8px 0 0;color:var(--muted)">${escapeHtml(t.msg)}</p>`;
          el.appendChild(div);
        });
      }

      function addTestimonial() {
        const name = document.getElementById("testName").value.trim();
        const msg = document.getElementById("testMsg").value.trim();
        if (!name || !msg) {
          alert("Nama & pesan harus diisi");
          return;
        }
        const raw = localStorage.getItem(TEST_KEY);
        let list = raw ? JSON.parse(raw) : [];
        list.push({ name, msg, date: new Date().toLocaleString() });
        localStorage.setItem(TEST_KEY, JSON.stringify(list));
        document.getElementById("testName").value = "";
        document.getElementById("testMsg").value = "";
        loadTestimonials();
        alert("Terima kasih! Testimoni akan tampil (demo lokal).");
      }

      function clearTestimonials() {
        if (confirm("Hapus semua testimoni demo di browser ini?")) {
          localStorage.removeItem(TEST_KEY);
          loadTestimonials();
        }
      }

      // Init
      document.addEventListener("DOMContentLoaded", () => {
        loadTestimonials();

        // close WA popup when clicking outside (mobile-friendly)
        document.addEventListener("click", (e) => {
          const target = e.target;
          if (!waPopup.contains(target) && !waFloat.contains(target)) {
            waPopup.style.display = "none";
          }
        });

        // Example: avatar fallback to <img> when background fails
        const a = document.getElementById("exampleAvatar");
        if (a && getComputedStyle(a).backgroundImage === "none") {
          a.innerHTML = '<img src="logo pixoria.jpg" alt="avatar" onerror="this.style.display=\'none\'">';
        }
      });
    </script>
    
  </body>
</html>